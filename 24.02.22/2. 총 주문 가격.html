<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>총 주문 가격</title>
</head>
<body>
    <!-- form : 서버에 넘겨주는 역할(태그) -->
    <form>
        <fieldset>
            <legend> 기본 가격 </legend>
            <p> 30,000원 </p>
        </fieldset>
        <fieldset>
            <legend> 추가 주문 </legend>
            <!-- 체크 박스 value에 각각의 가격 값을 입력한다. -->
            <!-- 모든 체크박스 클래스 이름 같게, checkbx -->
            <label><input type="checkbox" class="checkbx" value="1200"> 기장 추가 (1200원)</label>
            <label><input type="checkbox" class="checkbx" value="3000"> 배송 비용 (3000원)</label>
            <label><input type="checkbox" class="checkbx" value="800"> 산간지역 배송 비용 (800원)</label>
            <label><input type="checkbox" class="checkbx" value="1200"> 양말 2개 (4800원)</label>
            <label><input type="checkbox" class="checkbx" value="2400"> 선물 포장 (2400원)</label>
        </fieldset>
        <!-- 결과 합계가격을 나타낼 곳 -->
        <fieldset>
            <legend> 합계 </legend>
            <input type="text" id="total" name="total" class="price" readonly>
        </fieldset>
    </form>

    <script>
        // price라는 변수에 30000을 대입
        let price = 30000;
        // 모든 체크박스 (같은 이름의 클래스)를 변수로 가져오기 (querySelectorAll)
        let checkbx = document.querySelectorAll(".checkbx");
        let total = document.querySelector("#total");
        // total 합계 가격 부분을 변수로 가져오기.
        total.value = price + "원";

        for(i=0; i<checkbx.length; i++){
            checkbx[i].onclick = function(){
                if(this.checked == true){
                    // 합계가격에 합산하기 +=
                    price += parseInt(this.value);
                    // parseInt : 정수로 변환
                }else{
                    // 체크 해제 시 차감하기 -=
                    price -= parseInt(this.value);
                }
                total.value = price + "원";
            }
        }
    </script>
</body>
</html>